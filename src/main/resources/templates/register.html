<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì…</title>
</head>
<body>

<h1>íšŒì›ê°€ì…</h1>

<label>ì•„ì´ë””:</label>
<input type="text" id="siteId" placeholder="ì•„ì´ë”” ì…ë ¥">
<br>

<label>ë¹„ë°€ë²ˆí˜¸:</label>
<input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
<br>

<label>ì´ë¦„:</label>
<input type="text" id="name" placeholder="ì´ë¦„ ì…ë ¥">
<br>

<button onclick="register()">íšŒì›ê°€ì…</button>
<button onclick="location.href='/login'">ë¡œê·¸ì¸</button> <!-- ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ -->

<script>
    async function register() {
        const siteId = document.getElementById("siteId").value;
        const password = document.getElementById("password").value;
        const name = document.getElementById("name").value;

        const response = await fetch("/auth/register", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ siteId, password, name })
        });

        if (response.ok) {
            alert("âœ… íšŒì›ê°€ì… ì„±ê³µ! ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
            window.location.href = "/login"; // âœ… íšŒì›ê°€ì… í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
        } else {
            alert("ğŸš¨ íšŒì›ê°€ì… ì‹¤íŒ¨! ì•„ì´ë””ê°€ ì¤‘ë³µë˜ì—ˆê±°ë‚˜ ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
    }
</script>

</body>
</html>
